/* components/ui/Card/Card.module.scss */

@import '../../../styles/variables';
@import '../../../styles/mixins';

.card {
  background: var(--card-bg, #{$white});
  border-radius: var(--card-radius, #{$radius-lg});
  border: 1px solid var(--card-border, #{$gray-200});
  transition: $transition-base;
  // Removed overflow: hidden to allow tooltips to appear outside card bounds

  @include dark-mode {
    background: var(--card-bg-dark, #{$gray-800});
    border-color: var(--card-border-dark, #{$gray-700});
  }
}

// Variant: Default (basic card)
.variantDefault {
  box-shadow: var(--card-shadow, #{$shadow-sm});

  @include dark-mode {
    box-shadow: var(--card-shadow-dark, 0 1px 3px 0 rgba(0, 0, 0, 0.3));
  }
}

// Variant: Elevated (more prominent)
.variantElevated {
  box-shadow: var(--card-elevated-shadow, #{$shadow-lg});

  &:hover {
    box-shadow: var(--card-elevated-hover-shadow, #{$shadow-xl});
    // Removed: transform: var(--card-elevated-hover-transform, translateY(-2px));
  }

  @include reduced-motion {
    &:hover {
      // No transform to remove
    }
  }

  @include dark-mode {
    box-shadow: var(
      --card-elevated-shadow-dark,
      0 10px 15px -3px rgba(0, 0, 0, 0.3)
    );

    &:hover {
      box-shadow: var(
        --card-elevated-hover-shadow-dark,
        0 20px 25px -5px rgba(0, 0, 0, 0.4)
      );
    }
  }
}

// Variant: List Item (clickable card for lists)
.variantListItem {
  align-content: center;
  box-shadow: var(--card-shadow, #{$shadow-sm});
  cursor: pointer;
  transition: all $transition-base;

  &:hover {
    box-shadow: var(--card-listitem-hover-shadow, #{$shadow-md});
    // Removed: transform: var(--card-listitem-hover-transform, translateY(-1px));
  }

  &:active {
    // Removed: transform: translateY(0);
  }

  &:focus-within {
    @include focus-ring(var(--card-focus-ring, #{$primary}), 2px);
  }

  @include reduced-motion {
    &:hover {
      // No transform to remove
    }
  }

  @include dark-mode {
    box-shadow: var(--card-shadow-dark, 0 1px 3px 0 rgba(0, 0, 0, 0.3));

    &:hover {
      box-shadow: var(
        --card-listitem-hover-shadow-dark,
        0 4px 6px -1px rgba(0, 0, 0, 0.4)
      );
    }
  }
}

// Variant: Linked (card that contains links)
.variantLinked {
  box-shadow: var(--card-shadow, #{$shadow-sm});
  transition: all $transition-base;

  &:hover {
    box-shadow: var(--card-linked-hover-shadow, #{$shadow-md});
  }

  // Style for when the entire card is a link
  &.clickable {
    cursor: pointer;
    text-decoration: none;
    color: inherit;

    &:hover {
      // Removed: transform: var(--card-linked-hover-transform, translateY(-1px));
    }

    &:active {
      // Removed: transform: translateY(0);
    }

    @include reduced-motion {
      &:hover {
        // No transform to remove
      }
    }
  }

  @include dark-mode {
    box-shadow: var(--card-shadow-dark, 0 1px 3px 0 rgba(0, 0, 0, 0.3));

    &:hover {
      box-shadow: var(
        --card-linked-hover-shadow-dark,
        0 4px 6px -1px rgba(0, 0, 0, 0.4)
      );
    }
  }
}

// Card sections
.header {
  align-content: center;
  padding: var(--card-header-padding, #{$spacing-4} #{$spacing-4} 0);

  &.hasActions {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: var(--card-header-padding, #{$spacing-4});
  }
}

.content {
  padding: var(--card-content-padding, #{$spacing-4});
}

.actions {
  padding: var(--card-actions-padding, 0 #{$spacing-4} #{$spacing-4});

  &.headerActions {
    padding: 0;
    flex-shrink: 0;
  }
}

.footer {
  padding: var(--card-footer-padding, 0 #{$spacing-4} #{$spacing-4});
  border-top: 1px solid var(--card-divider, #{$gray-200});
  margin-top: $spacing-4;

  @include dark-mode {
    border-color: var(--card-divider-dark, #{$gray-700});
  }
}

// Typography within cards
.title {
  font-size: var(--card-title-size, #{$font-size-lg});
  font-weight: var(--card-title-weight, #{$font-weight-semibold});
  color: var(--card-title-color, #{$gray-800});
  margin: 0 0 $spacing-1 0;
  line-height: $line-height-tight;

  @include dark-mode {
    color: var(--card-title-color-dark, #{$white});
  }
}

.subtitle {
  font-size: var(--card-subtitle-size, #{$font-size-sm});
  font-weight: var(--card-subtitle-weight, #{$font-weight-medium});
  color: var(--card-subtitle-color, #{$gray-600});
  margin: 0;
  line-height: $line-height-normal;

  @include dark-mode {
    color: var(--card-subtitle-color-dark, #{$gray-300});
  }
}

.description {
  font-size: var(--card-description-size, #{$font-size-base});
  color: var(--card-description-color, #{$gray-700});
  margin: 0;
  line-height: $line-height-normal;

  @include dark-mode {
    color: var(--card-description-color-dark, #{$gray-200});
  }
}

// Size variants
.sizeCompact {
  .header,
  .content,
  .actions,
  .footer {
    padding: $spacing-3;
  }

  .title {
    font-size: $font-size-base;
  }

  .subtitle {
    font-size: $font-size-xs;
  }
}

.sizeLarge {
  .header,
  .content,
  .actions,
  .footer {
    padding: $spacing-6;
  }

  .title {
    font-size: $font-size-xl;
  }
}
